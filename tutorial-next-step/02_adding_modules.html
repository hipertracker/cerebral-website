<!DOCTYPE html><html class="ua_js_no"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Cerebral</title><script>(function(e,c){e[c]=e[c].replace(/(ua_js_)no/g,"$1yes");})(document.documentElement,"className");</script><link rel="stylesheet" href="../css/styles.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:700,500,400"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono"/><link rel="shortcut icon" href="../favicon.ico"/><meta name="viewport" content="width=device-width,maximum-scale=1,initial-scale=1,user-scalable=no"/><meta name="format-detection" content="telephone=no"/><link name="apple-mobile-web-app-capable" content="yes"/></head><body class="page page_layout_tutorial-next-step"><div class="page__header"><div class="head-nav"><a class="link link__control head-nav__home i-bem" data-bem='{"link":{}}' role="link" href="../">Cerebral</a></div></div><div class="page__content"><div class="row"><div class="row__col row__col_sw_24 row__col_lw_5"><div class="side-nav"><div class="menu menu_theme_islands menu_size_xl menu_mode_radio menu__control i-bem" data-bem='{"menu":{}}' role="menu" tabindex="0"><div class="menu__group" role="group" aria-labelledby="uniq1469182374924109"><div class="menu__group-title" role="presentation" id="uniq1469182374924109">Tutorial: Introduction</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-introduction/01_introduction"}}' role="menuitemradio" id="uniq1469182374924110" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-introduction/01_introduction.html">Introduction</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-introduction/02_structuring_state"}}' role="menuitemradio" id="uniq1469182374924111" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-introduction/02_structuring_state.html">Structuring state</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-introduction/03_defining_signals"}}' role="menuitemradio" id="uniq1469182374924112" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-introduction/03_defining_signals.html">Signals and actions</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-introduction/04_creating_components"}}' role="menuitemradio" id="uniq1469182374924113" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-introduction/04_creating_components.html">Creating components</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq1469182374924114"><div class="menu__group-title" role="presentation" id="uniq1469182374924114">Tutorial: Next step</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-next-step/01_next_step"}}' role="menuitemradio" id="uniq1469182374924115" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-next-step/01_next_step.html">Next step</a></div><div class="menu-item menu-item_type_link menu-item_checked menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-next-step/02_adding_modules"}}' role="menuitemradio" id="uniq1469182374924116" aria-checked="true"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-next-step/02_adding_modules.html">Adding modules</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-next-step/03_creating_actions"}}' role="menuitemradio" id="uniq1469182374924117" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-next-step/03_creating_actions.html">Creating actions</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-next-step/04_adding_shared_module"}}' role="menuitemradio" id="uniq1469182374924118" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-next-step/04_adding_shared_module.html">Adding a shared module</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq1469182374924119"><div class="menu__group-title" role="presentation" id="uniq1469182374924119">Get started</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"get-started/get-started"}}' role="menuitemradio" id="uniq1469182374924120" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../get-started/get-started.html">Get started</a></div></div></div></div></div><div class="row__col row__col_sw_24 row__col_lw_18 row__col_lo_1"><div class="page__edit"><a class="link link_theme_islands link__control i-bem" data-bem='{"link":{}}' role="link" href="https://github.com/cerebral/cerebral-website/edit/v3/content/tutorial-next-step/02_adding_modules.en.md">Edit on GitHub</a></div><h2 class="heading heading_lvl_2" id="adding-modules">Adding modules</h2>
<p class="paragraph">It does not take long before you need to split up your state and signals. In Cerebral you can use modules to handle that. Modules are a very simple concept, they basically namespace state, signals and services to give structure. Let us see how we can define a module for our application:</p>
<p class="paragraph"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="https://github.com/cerebral/cerebral-website-tutorial-next/blob/react/src/controller.js">src/model.js</a></p>
<p class="paragraph">What we have done now is add a namespace to our application called <strong>app</strong> and we reference our App module. We also have two other modules, <strong>devtools</strong> and <strong>http</strong>. That means there is no difference creating an application specific module or a module you want to share with others. Let us take a closer look at our <strong>App</strong> module:</p>
<p class="paragraph"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="https://github.com/cerebral/cerebral-website-tutorial-next/blob/react/src/modules/App/index.js">src/modules/App/index.js</a></p>
<p class="paragraph">A module is just a function that receives the module. We can now attach our state and the signals to the module instead of directly on the controller. When we have namespaced our state we must also make sure our components points to the complete state path:</p>
<div class="tabs i-bem" data-bem='{"tabs":{}}'><span class="radio-group radio-group_theme_islands radio-group_size_l radio-group_type_button control-group i-bem" data-bem='{"radio-group":{}}' role="radiogroup"><label class="radio radio_type_button radio_theme_islands radio_size_l radio_checked i-bem" data-bem='{"radio":{}}'><button class="button button_togglable_radio button_checked button_theme_islands button_size_l button__control i-bem" data-bem='{"button":{}}' role="button" type="button" aria-pressed="true"><span class="button__text">React</span></button><input class="radio__control" type="radio" autocomplete="off" value="0" checked="checked"/></label><label class="radio radio_type_button radio_theme_islands radio_size_l i-bem" data-bem='{"radio":{}}'><button class="button button_togglable_radio button_theme_islands button_size_l button__control i-bem" data-bem='{"button":{}}' role="button" type="button" aria-pressed="false"><span class="button__text">Snabbdom</span></button><input class="radio__control" type="radio" autocomplete="off" value="1"/></label><label class="radio radio_type_button radio_theme_islands radio_size_l i-bem" data-bem='{"radio":{}}'><button class="button button_togglable_radio button_theme_islands button_size_l button__control i-bem" data-bem='{"button":{}}' role="button" type="button" aria-pressed="false"><span class="button__text">Inferno</span></button><input class="radio__control" type="radio" autocomplete="off" value="2"/></label></span><div class="tabs__tab tabs__tab_active">
<a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="https://github.com/cerebral/cerebral-website-tutorial-next/blob/react/src/components/App/index.js">src/components/App/index.js</a>
</div><div class="tabs__tab">
<a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="https://github.com/cerebral/cerebral-website-tutorial-next/blob/snabbdom/src/components/App/index.js">src/components/App/index.js</a>
</div><div class="tabs__tab">
<a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="https://github.com/cerebral/cerebral-website-tutorial-next/blob/inferno/src/components/App/index.js">src/components/App/index.js</a>
</div></div>
<p class="paragraph">Notice here that we have also split our component into two parts. The <strong>App</strong> component and the <strong>Items</strong> component. Though modules often has a component with the same name you should not consider them &quot;part of the same thing&quot;. As mentioned before components are completely separated from your actual application and you should not mix these two concepts together. You will have a lot more components than modules.</p>
<p class="paragraph">With this structure in place you start to see how larger applications scale in terms of files and directories.</p>
<pre><code class="code" class="lang-javascript">/src
  /components
    /App
    /Items
  /modules
    /App
      /actions
      /chains
      index.js
  controller.js
  main.js
</code></pre>
<h4 class="heading heading_lvl_4" id="best-practices">Best practices</h4>
<p class="paragraph">Creating modules helps you decouple and structure your application. Modules are really nothing more than namespacing, but you will see later what other benefits we can also get from modules. A challenge decoupling code is isolation. In Cerebral that does not happen. Any module has access to any state in your model, also chains and actions can be reused across modules. Since components are completely decoupled from your application they have access to any state and any signal.</p>
<p class="paragraph">And yes, modules can have submodules ;-)</p>
<h4 class="heading heading_lvl_4" id="challenge">Challenge</h4>
<p class="paragraph">Try changing the namespace of <strong>app</strong> and refactor the application to use that new namespace.</p>

</div></div><div class="row row_sar"><div class="row__col row__col_sw_8"><div class="next"><a class="link link_theme_islands link_size_xl link__control i-bem" data-bem='{"link":{}}' role="link" href="./03_creating_actions.html"><div class="next__label">Next</div><div class="next__title">Creating actions</div></a></div></div></div></div><footer class="footer page__footer"><div class="row"><div class="row__col row__col_sw_24 row__col_lw_6"><h4 class="footer__header">ORGANIZATION</h4><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="../contributors">Contributors</a></div><div class="row__col row__col_sw_24 row__col_lw_6 row__col_lo_3"><h4 class="footer__header">ARTICLES AND USEFUL LINKS</h4></div><div class="row__col row__col_sw_24 row__col_lw_6 row__col_lo_6"><h4 class="footer__header">HELP</h4></div></div></footer><script src="../js/scripts.min.js"></script></body></html>