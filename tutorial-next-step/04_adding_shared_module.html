<!DOCTYPE html><html class="ua_js_no"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Cerebral</title><script>(function(e,c){e[c]=e[c].replace(/(ua_js_)no/g,"$1yes");})(document.documentElement,"className");</script><link rel="stylesheet" href="../css/styles.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:700,500,400"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono"/><link rel="shortcut icon" href="../favicon.ico"/><meta name="viewport" content="width=device-width,maximum-scale=1,initial-scale=1,user-scalable=no"/><meta name="format-detection" content="telephone=no"/><link name="apple-mobile-web-app-capable" content="yes"/></head><body class="page page_layout_tutorial-next-step"><div class="page__header"><div class="head-nav"><a class="link link__control head-nav__home i-bem" data-bem='{"link":{}}' role="link" href="../">Cerebral</a></div></div><div class="page__content"><div class="row"><div class="row__col row__col_sw_24 row__col_lw_5"><div class="side-nav"><div class="menu menu_theme_islands menu_size_xl menu_mode_radio menu__control i-bem" data-bem='{"menu":{}}' role="menu" tabindex="0"><div class="menu__group" role="group" aria-labelledby="uniq1469182374924133"><div class="menu__group-title" role="presentation" id="uniq1469182374924133">Tutorial: Introduction</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-introduction/01_introduction"}}' role="menuitemradio" id="uniq1469182374924134" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-introduction/01_introduction.html">Introduction</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-introduction/02_structuring_state"}}' role="menuitemradio" id="uniq1469182374924135" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-introduction/02_structuring_state.html">Structuring state</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-introduction/03_defining_signals"}}' role="menuitemradio" id="uniq1469182374924136" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-introduction/03_defining_signals.html">Signals and actions</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-introduction/04_creating_components"}}' role="menuitemradio" id="uniq1469182374924137" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-introduction/04_creating_components.html">Creating components</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq1469182374924138"><div class="menu__group-title" role="presentation" id="uniq1469182374924138">Tutorial: Next step</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-next-step/01_next_step"}}' role="menuitemradio" id="uniq1469182374924139" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-next-step/01_next_step.html">Next step</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-next-step/02_adding_modules"}}' role="menuitemradio" id="uniq1469182374924140" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-next-step/02_adding_modules.html">Adding modules</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-next-step/03_creating_actions"}}' role="menuitemradio" id="uniq1469182374924141" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-next-step/03_creating_actions.html">Creating actions</a></div><div class="menu-item menu-item_type_link menu-item_checked menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial-next-step/04_adding_shared_module"}}' role="menuitemradio" id="uniq1469182374924142" aria-checked="true"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-next-step/04_adding_shared_module.html">Adding a shared module</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq1469182374924143"><div class="menu__group-title" role="presentation" id="uniq1469182374924143">Get started</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"get-started/get-started"}}' role="menuitemradio" id="uniq1469182374924144" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../get-started/get-started.html">Get started</a></div></div></div></div></div><div class="row__col row__col_sw_24 row__col_lw_18 row__col_lo_1"><div class="page__edit"><a class="link link_theme_islands link__control i-bem" data-bem='{"link":{}}' role="link" href="https://github.com/cerebral/cerebral-website/edit/v3/content/tutorial-next-step/04_adding_shared_module.en.md">Edit on GitHub</a></div><h2 class="heading heading_lvl_2" id="adding-a-shared-module">Adding a shared module</h2>
<p class="paragraph">Cerebral has an ecosystem of modules and providers. It is easy to extend the functionality of Cerebral by using these concepts and we highly encourage to share what you build. One module is called <strong>cerebral-module-http</strong>. It is based on the <a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="https://github.com/mzabriskie/axios">axios</a> library and gives you a service that can talk to your server.</p>
<p class="paragraph">The demo application already has this module installed and you can see it instantiated with the <strong>App</strong> and <strong>Devtools</strong> module.</p>
<p class="paragraph"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="https://github.com/cerebral/cerebral-website-tutorial-next/blob/react/src/controller.js">src/controller.js</a></p>
<p class="paragraph">You might have noticed that we actually call both <strong>Http</strong> and <strong>Devtools</strong> as a function. The reason is that most shared modules allows you to pass in some options. The options you optionally pass into the instantiation of <strong>Http</strong> are just passed straight into Axios, meaning that you get a lot of features out of the box. The demo application puts the http module on the namespace <strong>http</strong>, but you can choose whatever namespace you want.</p>
<h3 class="heading heading_lvl_3" id="using-a-service">Using a service</h3>
<p class="paragraph">The http module exposes services that allows us to talk to the server. One of those services is called <strong>post</strong> and you find it on the namespace <em>http</em> under <em>services</em>, as that is the namespace we chose for it.</p>
<p class="paragraph"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="https://github.com/cerebral/cerebral-website-tutorial-next/blob/react/src/modules/App/actions/postItem.js">src/modules/App/actions/postItem.js</a></p>
<p class="paragraph">As you can see our service returns a promise where we call an <strong>output.success</strong> function when it is successful and <strong>output.error</strong> if something goes wrong. The action also has two properties added to it. The <strong>async</strong> property tells Cerebral that this action runs asynchronously. The <strong>outputs</strong> property defines what outputs this action should have and also allows Cerebral to statically analyze the execution of the signal to verify that it defined correctly.</p>
<h4 class="heading heading_lvl_4" id="best-practices">Best practices</h4>
<p class="paragraph">When you depend on some library it is quite common to create a module that exposes services wrapping what you need from that library. By doing that it is also very easy to share that module with other Cerebral developers. Wrapping other libraries with Cerebral is of course not necessary, but it will help with your mental image of changes in your app because the debugger will now know about these services and when they are called.</p>

</div></div><div class="row row_sar"><div class="row__col row__col_sw_8"><div class="next"><a class="link link_theme_islands link_size_xl link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial-advanced/01_advanced.html"><div class="next__label">Next</div><div class="next__title"></div></a></div></div></div></div><footer class="footer page__footer"><div class="row"><div class="row__col row__col_sw_24 row__col_lw_6"><h4 class="footer__header">ORGANIZATION</h4><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="../contributors">Contributors</a></div><div class="row__col row__col_sw_24 row__col_lw_6 row__col_lo_3"><h4 class="footer__header">ARTICLES AND USEFUL LINKS</h4></div><div class="row__col row__col_sw_24 row__col_lw_6 row__col_lo_6"><h4 class="footer__header">HELP</h4></div></div></footer><script src="../js/scripts.min.js"></script></body></html>